{"version":3,"sources":["webpack:///F:/shunshun/alitraver2/alitraver/main.js","webpack:///F:/shunshun/alitraver2/alitraver/pages/detail/detail.vue?1478","webpack:///F:/shunshun/alitraver2/alitraver/pages/detail/detail.vue?e1d2","webpack:///F:/shunshun/alitraver2/alitraver/pages/detail/detail.vue?a386","webpack:///F:/shunshun/alitraver2/alitraver/pages/detail/detail.vue?605f","webpack:///F:/shunshun/alitraver2/alitraver/pages/detail/detail.vue","webpack:///F:/shunshun/alitraver2/alitraver/pages/detail/detail.vue?4e37","webpack:///F:/shunshun/alitraver2/alitraver/pages/detail/detail.vue?fda6"],"names":["createPage","Page","db","wx","cloud","database","userdata","collection","messages","name","components","Navs","Banner","Matter","Message","data","navShow","opacity","dataId","detaildata","Object","messageWord","leaveword","nonedata","homeload","methods","handleScroll","top","detailrep","id","where","_id","get","then","res","datainfo","catch","err","console","log","messageData","orderBy","resdata","classdata","publicMessage","messageDataByClass","className","classMessage","map","item","Array","from","Set","filter","length","fatherTab","index","query","createSelectorQuery","select","boundingClientRect","selectViewport","scrollOffset","exec","pageScrollTo","scrollTop","fatherMethod","onLoad","e","Promise","all","onPageScroll"],"mappings":"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","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=5650fb8d&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"shunshun/alitraver2/alitraver/pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=5650fb8d&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Navs from './components/navs.vue'\nimport Banner from './components/banner.vue'\nimport Matter from './components/matter.vue'\nimport Message from './components/message.vue'\nvar db = wx.cloud.database()\nvar userdata = db.collection('userdata')\nvar messages = db.collection('message')\nexport default{\n\tname:'detail',\n\tcomponents:{\n\t\tNavs,\n\t\tBanner,\n\t\tMatter,\n\t\tMessage\n\t},\n\tdata() {\n\t\treturn{\n\t\t\tnavShow: false,\n\t\t\topacity: 0,\n\t\t\tdataId:'0',\n\t\t\tdetaildata:Object,\n\t\t\tmessageWord:[],\n\t\t\tleaveword:[],\n\t\t\tnonedata:false,\n\t\t\thomeload:true\n\t\t}\n\t},\n\tmethods:{\n\t\t//顶部导航栏\n\t\thandleScroll(top){\n\t\t\tif(top > 99){\n\t\t\t\tthis.opacity = top / 170\n\t\t\t\tthis.opacity = this.opacity > 1 ? 1 : this.opacity\n\t\t\t\tthis.navShow = true\n\t\t\t}else{\n\t\t\t\tthis.navShow = false\n\t\t\t}\n\t\t},\n\t\t//根据id查询数据\n\t\tdetailrep(id){\n\t\t\tuserdata.where({\n\t\t\t\t_id:id\n\t\t\t}).get()\n\t\t\t.then((res) => {\n\t\t\t\tthis.detaildata = res.data[0].datainfo\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\t//请求全部留言数据\n\t\tmessageData(id){\n\t\t\tmessages.where({\n\t\t\t\tid: id\n\t\t\t}).orderBy('messageData.time','desc')\n\t\t\t.get()\n\t\t\t.then((res) => {\n\t\t\t\tlet resdata = res.data\n\t\t\t\t//取出ai分类的标签\n\t\t\t\tthis.classdata(resdata)\n\t\t\t\t//取出评价列表\n\t\t\t\tthis.publicMessage(resdata)\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\tmessageDataByClass(id,className){\n\t\t\tmessages.where({\n\t\t\t\tid: id,\n\t\t\t\tclassMessage: className\n\t\t\t}).orderBy('messageData.time','desc')\n\t\t\t.get()\n\t\t\t.then((res) => {\n\t\t\t\tlet resdata = res.data\n\t\t\t\t//取出评价列表\n\t\t\t\tthis.publicMessage(resdata)\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t},\n\t\t//取出ai分类的标签\n\t\tclassdata(resdata){\n\t\t\tvar messageWord = resdata.map((item) =>{\n\t\t\t\treturn item.classMessage\n\t\t\t})\n\t\t\tmessageWord = Array.from(new Set(messageWord.filter(item => item)))\n\t\t\t//数组去空\n\t\t\tconsole.log(messageWord)\n\t\t\tthis.messageWord = messageWord\n\t\t},\n\t\t//取出评价列表\n\t\tpublicMessage(resdata){\n\t\t\tvar leaveword = resdata.map((item) => {\n\t\t\t\treturn item.messageData\n\t\t\t})\n\t\t\tif(leaveword.length === 0){\n\t\t\t\tthis.nonedata = true\n\t\t\t}else{\n\t\t\t\tthis.nonedata = false\n\t\t\t\tthis.leaveword = leaveword\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tfatherTab(index){\n\t\t\tconst query = wx.createSelectorQuery()\n\t\t\tif(index === 1){\n\t\t\t\tquery.select('.matther-page').boundingClientRect()\n\t\t\t}else  if(index === 2){\n\t\t\t\tquery.select('.message-page').boundingClientRect()\n\t\t\t}\n\t\t\tquery.selectViewport().scrollOffset()\n\t\t\tquery.exec(function(res){\n\t\t\t\twx.pageScrollTo({\n\t\t\t\t\tscrollTop: res[0].top + res[1].scrollTop - 35\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tfatherMethod(className){\n\t\t\tconsole.log(className)\n\t\t\tif(className == '全部'){\n\t\t\t\tthis.messageData(this.dataId)\n\t\t\t}else {\n\t\t\t\tthis.messageDataByClass(this.dataId,className)\n\t\t\t}\n\t\t}\n\t},\n\tonLoad(e){\n\t\tconsole.log(e)\n\t\tthis.dataId = e.id\n\t\t//请求获取评价数据\n\t\tPromise.all([this.detailrep(this.dataId),this.messageData(this.dataId)])\n\t\t.then((res) => {\n\t\t\tthis.homeload = false\n\t\t}).catch((err) => {\n\t\t\tconsole.log(err)\n\t\t})\n\t\t\n\t},\n\tonPageScroll(e) {\n\t\tlet top = e.scrollTop\n\t\tthis.handleScroll(top)\n\t}\n}\n","import mod from \"-!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596189523746\n      var cssReload = require(\"F:/tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}